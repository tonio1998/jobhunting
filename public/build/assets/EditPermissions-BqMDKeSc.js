import{r as g,x as f,c as v,a as x,j as o,u as a,k as y,l,b as e,t as m,f as _,F as h,W as P}from"./app-D0q85dhH.js";import{_ as w}from"./AppLayout.vue_vue_type_script_setup_true_lang-C92_Op7S.js";import{d as u}from"./vuedraggable.umd-C5CqNDEJ.js";import"./index-BXZYASeX.js";import"./useForwardExpose-7t7qriFv.js";import"./RovingFocusGroup-DAXSL0nJ.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DyyEScko.js";const k={class:"flex items-center justify-center min-h-screen bg-gray-100 px-4"},V={class:"w-full max-w-4xl bg-white p-6 rounded shadow"},j={class:"text-2xl font-bold mb-6 text-center"},E={class:"p-2 border rounded bg-gray-100"},A={class:"p-2 border rounded bg-green-100 flex justify-between items-center"},B=["onClick"],M={__name:"EditPermissions",props:{user:Object,permissions:Array},setup(d){const n=d,t=g(n.user.permissions.map(i=>i.name)),p=f(()=>n.permissions.map(i=>i.name).filter(i=>!t.value.includes(i))),c=()=>{P.put(route("users.permissions.update",n.user.id),{permissions:t.value})};return(i,s)=>(x(),v(h,null,[o(a(y),{title:"Edit Permissions"}),o(w,null,{default:l(()=>[e("div",k,[e("div",V,[e("h1",j," Edit Permissions for "+m(d.user.name),1),e("form",{onSubmit:_(c,["prevent"]),class:"grid grid-cols-2 gap-6"},[e("div",null,[s[1]||(s[1]=e("h2",{class:"font-semibold mb-2"},"Available Permissions",-1)),o(a(u),{list:p.value,group:{name:"permissions",pull:"clone",put:!1},"item-key":"name",class:"bg-gray-50 border rounded p-4 min-h-[150px] space-y-2"},{item:l(({element:r})=>[e("div",E,m(r),1)]),_:1},8,["list"])]),e("div",null,[s[2]||(s[2]=e("h2",{class:"font-semibold mb-2"},"Assigned Permissions",-1)),o(a(u),{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=r=>t.value=r),group:{name:"permissions",pull:!0,put:!0},"item-key":"name",class:"bg-gray-50 border rounded p-4 min-h-[150px] space-y-2"},{item:l(({element:r})=>[e("div",A,[e("span",null,m(r),1),e("button",{type:"button",onClick:C=>t.value=t.value.filter(b=>b!==r),class:"text-red-500 hover:text-red-700"}," âœ• ",8,B)])]),_:1},8,["modelValue"])]),s[3]||(s[3]=e("div",{class:"col-span-2 text-center"},[e("button",{type:"submit",class:"mt-4 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"}," Update Permissions ")],-1))],32)])])]),_:1})],64))}};export{M as default};
