import{m as w,c as u,a as p,b as e,C as f,D as k,r as g,x as R,j as r,u as m,k as $,l as d,t as c,f as B,p as b,F as C,W as V}from"./app-SjD42TUq.js";import{_ as j}from"./AppLayout.vue_vue_type_script_setup_true_lang-DWzMaQV6.js";import{d as _}from"./vuedraggable.umd-CXhjPRG8.js";import"./index-D9dSeUFs.js";import"./useForwardExpose-C4hGO1e_.js";import"./RovingFocusGroup-_ZDPzmEl.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CLwwveHj.js";const S={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function A(l,s){return p(),u("svg",S,s[0]||(s[0]=[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m12 19l9 2l-9-18l-9 18zm0 0v-8"},null,-1)]))}const E=w({name:"heroicons-outline-paper-airplane",render:A}),D=["type","disabled"],N={key:0,class:"loading loading-spinner loading-sm"},z={__name:"IconTextButton",props:{loading:{type:Boolean,default:!1},type:{type:String,default:"button"}},setup(l){return(s,o)=>(p(),u("button",{type:l.type,class:k(["btn flex items-center gap-2",{"btn-disabled":l.loading}]),disabled:l.loading},[l.loading?(p(),u("span",N)):f(s.$slots,"icon",{key:1}),e("span",null,[f(s.$slots,"default")])],10,D))}},F={class:"flex items-center justify-center min-h-screen bg-gray-100 px-4"},I={class:"w-full max-w-4xl bg-white p-6 rounded shadow"},O={class:"text-2xl font-bold mb-6"},T={class:"p-2 border rounded bg-gray-100"},U={class:"p-2 border rounded bg-green-100 flex justify-between items-center"},W=["onClick"],H={class:"col-span-2"},X={__name:"EditRoles",props:{user:Object,roles:Array},setup(l){const s=l,o=g(!1),n=g(s.user.roles.map(a=>a.name)),v=R(()=>s.roles.map(a=>a.name).filter(a=>!n.value.includes(a))),h=async()=>{if(!o.value){o.value=!0;try{await V.put(route("users.roles.update",s.user.id),{roles:n.value})}finally{o.value=!1}}};return(a,t)=>{const y=E;return p(),u(C,null,[r(m($),{title:"Edit Roles"}),r(j,null,{default:d(()=>[e("div",F,[e("div",I,[e("h1",O,"Edit Roles for "+c(l.user.name),1),e("form",{onSubmit:B(h,["prevent"]),class:"grid grid-cols-2 gap-6"},[e("div",null,[t[1]||(t[1]=e("h2",{class:"font-semibold mb-2"},"Available Roles",-1)),r(m(_),{list:v.value,group:{name:"roles",pull:"clone",put:!1},"item-key":"name",class:"bg-white border rounded p-4 min-h-[150px] space-y-2"},{item:d(({element:i})=>[e("div",T,c(i),1)]),_:1},8,["list"])]),e("div",null,[t[2]||(t[2]=e("h2",{class:"font-semibold mb-2"},"Assigned Roles",-1)),r(m(_),{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=i=>n.value=i),group:{name:"roles",pull:!0,put:!0},"item-key":"name",class:"bg-white border rounded p-4 min-h-[150px] space-y-2"},{item:d(({element:i})=>[e("div",U,[e("span",null,c(i),1),e("button",{onClick:L=>n.value=n.value.filter(x=>x!==i),type:"button",class:"text-red-500"},"âœ•",8,W)])]),_:1},8,["modelValue"])]),t[4]||(t[4]=b(" Drag the role to the right, then tap Submit to continue. ")),e("div",H,[r(z,{type:"submit",loading:o.value,disabled:o.value,class:"mt-6"},{icon:d(()=>[r(y,{class:"w-5 h-5"})]),default:d(()=>[t[3]||(t[3]=b(" Update Roles "))]),_:1,__:[3]},8,["loading","disabled"])])],32)])])]),_:1})],64)}}};export{X as default};
