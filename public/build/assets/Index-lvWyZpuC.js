import{_ as g}from"./AppLayout.vue_vue_type_script_setup_true_lang-C92_Op7S.js";import{c as l,a as n,b as t,g as b,r as h,w as k,W as y,j as m,u as d,k as w,l as $,d as j,F as p,e as v,t as a,a3 as C,S as H,D as L}from"./app-D0q85dhH.js";import{_ as M,a as A}from"./ClickableDropdown-CB112RIQ.js";import{u as B}from"./useDateFormatter-CQ4Beek9.js";import"./index-BXZYASeX.js";import"./useForwardExpose-7t7qriFv.js";import"./RovingFocusGroup-DAXSL0nJ.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DyyEScko.js";function N(o,i){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})])}function V(o,i){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})])}const S={class:"w-full mx-auto py-10 px-4 sm:px-6 lg:px-8"},D={class:"mb-4 flex items-center justify-between"},T={class:"overflow-x-auto rounded shadow"},U={class:"table w-full"},Z={class:"text-sm text-gray-700 bg-black/10"},F={class:"space-x-2"},O={class:"flex items-center gap-3"},E={class:"avatar"},J={class:"mask mask-squircle w-10 h-10"},P=["src"],R={class:"font-bold uppercase"},W={key:0},q={key:1},z={key:0},I={class:"mt-4 flex justify-center space-x-1"},G=["innerHTML"],lt=b({__name:"Index",props:{users:Object,filters:Object},setup(o){const i=o,u=h(i.filters.search||""),f=h(i.filters.sort||"name"),c=h(i.filters.direction||"asc"),{formatDate:x}=B();k([u,f,c],()=>{y.get(route("users.index"),{search:u.value,sort:f.value,direction:c.value},{preserveState:!0,replace:!0})});const _=[{title:"Users",href:"/users"}];return(K,s)=>(n(),l(p,null,[m(d(w),{title:"Users"}),m(g,{breadcrumbs:_},{default:$(()=>[t("div",S,[s[9]||(s[9]=t("h1",{class:"text-2xl font-bold text-gray-800 mb-4"},"Users",-1)),t("div",D,[m(M,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=e=>u.value=e)},null,8,["modelValue"])]),t("div",T,[t("table",U,[t("thead",Z,[t("tr",null,[s[3]||(s[3]=t("th",null,"Actions",-1)),t("th",{onClick:s[1]||(s[1]=e=>{f.value="name",c.value=c.value==="asc"?"desc":"asc"}),class:"cursor-pointer"}," Name "),s[4]||(s[4]=t("th",null,"Phone",-1)),s[5]||(s[5]=t("th",null,"Role",-1)),s[6]||(s[6]=t("th",null,"Location",-1)),s[7]||(s[7]=t("th",null,"Joined",-1))])]),t("tbody",null,[(n(!0),l(p,null,v(o.users.data,e=>(n(),l("tr",{key:e.id},[t("td",F,[m(A,{items:[{label:"Roles",href:`/users/${e.id}/roles`,icon:d(V)},{label:"Permission",href:`/users/${e.id}/permissions`,icon:d(N)}]},null,8,["items"])]),t("td",null,[t("div",O,[t("div",E,[t("div",J,[t("img",{src:e.avatar||e.profile_pic||"/images/launcher_icon.png",onError:s[2]||(s[2]=r=>r.target.src="/images/launcher_icon.png"),alt:"Avatar"},null,40,P)])]),t("div",null,[t("div",R,a(e.name),1),t("div",null,a(e.email),1)])])]),t("td",null,a(e.phone_number||"â€”"),1),t("td",null,[e.roles.length?(n(),l("span",W,a(e.roles.map(r=>r.name).join(", ")),1)):(n(),l("span",q,"--"))]),t("td",null,a((()=>{let r=e.current_location;try{return typeof r=="string"&&(r=JSON.parse(r)),r&&r.latitude&&r.longitude?`${r.latitude}, ${r.longitude}`:"--"}catch{return"--"}})()),1),t("td",null,a(d(x)(e.created_at)),1)]))),128)),o.users.data.length===0?(n(),l("tr",z,s[8]||(s[8]=[t("td",{colspan:"6",class:"text-center text-gray-500 py-4"},"No users found.",-1)]))):j("",!0)])])]),t("div",I,[(n(!0),l(p,null,v(o.users.links,e=>(n(),l(p,{key:e.label},[e.url?(n(),C(d(H),{key:0,href:e.url,innerHTML:e.label,class:L(["px-3 py-1 border rounded text-sm",{"bg-primary-500 text-white":e.active,"text-gray-700 hover:bg-gray-100":!e.active}])},null,8,["href","innerHTML","class"])):(n(),l("span",{key:1,innerHTML:e.label,class:"px-3 py-1 border rounded text-sm text-gray-400 cursor-not-allowed"},null,8,G))],64))),128))])])]),_:1})],64))}});export{lt as default};
