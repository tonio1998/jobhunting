import{g as x,r as p,x as v,c as f,a as h,j as n,u as l,k as y,l as d,b as s,p as w,t as m,n as _,v as P,F as V,W as j}from"./app-C4FdiW2O.js";import{_ as k}from"./AppLayout.vue_vue_type_script_setup_true_lang-CFlFSnrk.js";import{d as u}from"./vuedraggable.umd-Da_olltP.js";import"./index-D2-jizK3.js";import"./useForwardExpose-CiK9rpWt.js";import"./RovingFocusGroup-CzROTSdC.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Cf2ecIbm.js";const A={class:"flex items-center justify-center min-h-screen bg-gray-100 px-4"},C={class:"w-full max-w-6xl bg-white p-8 rounded shadow"},B={class:"text-3xl font-bold mb-8 text-center"},N={class:"text-indigo-600"},S={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},$={class:"p-2 bg-white border rounded shadow-sm cursor-move hover:bg-gray-100"},D={class:"p-2 bg-green-50 border border-green-300 rounded shadow-sm flex justify-between items-center"},M=x({__name:"EditPermissions",props:{role:Object,allPermissions:Array},setup(g){const r=g,a=p(""),i=p(r.role.permissions.map(o=>({...o}))),c=v(()=>r.allPermissions.filter(o=>o.name.toLowerCase().includes(a.value.toLowerCase())).filter(o=>!i.value.some(e=>e.id===o.id))),b=()=>{const o=i.value.map(e=>e.id);j.put(`/roles/${r.role.id}/permissions`,{permissions:o})};return(o,e)=>(h(),f(V,null,[n(l(y),{title:`Assign Permissions - ${r.role.name}`},null,8,["title"]),n(k,null,{default:d(()=>[s("div",A,[s("div",C,[s("h1",B,[e[2]||(e[2]=w(" Assign Permissions to ")),s("span",N,'"'+m(r.role.name)+'"',1)]),s("div",S,[s("div",null,[e[3]||(e[3]=s("h2",{class:"text-lg font-semibold mb-3"},"Available Permissions",-1)),_(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>a.value=t),placeholder:"Search permissions...",class:"w-full px-3 py-2 border border-gray-300 rounded mb-4"},null,512),[[P,a.value]]),n(l(u),{list:c.value,group:{name:"permissions"},"item-key":"id",class:"min-h-[400px] max-h-[500px] overflow-y-auto border rounded p-4 space-y-2 bg-gray-50"},{item:d(({element:t})=>[s("div",$,m(t.name),1)]),_:1},8,["list"])]),s("div",null,[e[5]||(e[5]=s("h2",{class:"text-lg font-semibold mb-3"},"Assigned Permissions",-1)),n(l(u),{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=t=>i.value=t),group:{name:"permissions"},"item-key":"id",class:"min-h-[400px] max-h-[500px] overflow-y-auto border-dashed border-2 rounded p-4 space-y-2 bg-gray-50"},{item:d(({element:t})=>[s("div",D,[s("span",null,m(t.name),1),e[4]||(e[4]=s("span",{class:"text-xs text-green-700 border border-green-400 px-2 py-0.5 rounded"}," Assigned ",-1))])]),_:1},8,["modelValue"])])]),s("div",{class:"flex justify-end mt-8"},[s("button",{onClick:b,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded shadow"}," Save Changes ")])])])]),_:1})],64))}});export{M as default};
